[TOC]

#### 1、与DCS系统相比，FCS有哪些特点？有哪些优越性？

- DCS:分布式控制系统

- FCS:基于现场总线的分布式系统

  |                      FCS                       |                        DCS                         |
  | :--------------------------------------------: | :------------------------------------------------: |
  | 一对多：一对传输线接多台仪表。双向传输多个信号 |   一对一：一对传输线接一台仪表，单向传输一个信号   |
  |   可靠性好：数字信号传输抗感染性能好，精度高   | 可靠性差：模拟信号传输不仅精度低，而且很容易受干扰 |

**现场总线的特点：**   

1. 系统开放性：开放系统的集成权利交给用户，用户可以根据自己的需要和对象把来自不同供应商的产品组成大小随意的系统。
2. 互可操作性与互用性
3. 现场设备本身智能化与功能自治性
4. 系统高度分散
5. 对现场环境的适应性

**现场总线的优点：**  

1. 节省硬件数量与投资

2. 节省安装费用

3. 节约维护开销

4. 用户具有高度的系统集成主动权

5. 提高了系统的准确性与可靠

   

#### 2,分析现场总线的现状，展望其发展前景。

**现场总线的现状：** 

1. 多种总线并存
2. 每种总线各有其应用领域
3. 每种总线各有其国际组织
4. 设备制造商参加多个总线组织
5. 各种总线均作为国家和地区 的标准
6. 协调并存
7. 工业以太网引入工业领域

**现场总线的发展前景：**

1. 智能仪表与网络设备开发的软硬件技术。
2. 组态技术，包括网络拓扑结构、网络设备和网络互联等。
3. 网络管理技术，包括网络管理软件、网络数据操作与传输。
4. 人机接口、软件技术。
5. 现场总线系统集成技术。

#### 3,介质访问控制方式主要有哪两种?说明各自的含义?

**1.CSMA/CD（载波监听多路访问/冲突检测）**

这种控制方式对任何工作站都没有预约发送时间。工作站的发送是随机的，必须在网络上争用传输介质，故称为争用技术。若同一时刻有多个工作站向传输线路发送信息，则这些信息会在传输线上相互混淆而遭破坏，称为“冲突”。为尽量避免由于竞争引起的冲突，每个工作站在发送信息之前，都要监听传输线上是否有信息在发送，这就是“载波监听”。载波监听CSMA的控制方案是先听再讲。一个站要发送，首先需监听总线，以决定介质是否存在其他站的发送信号。如果介质是空闲的，则可以发送：如果介质是忙的，则等待一定间隔后重试。当监听总线状态后，可采用以下三种CSMA坚持退避算法：
第一种为不坚持CSMA。假如介质是空闲的，则发送；假如介质是忙的，则等待一段随机时间，重复第一步。
第二种为一坚持CSMA。假如介质是空闲的，则发送；假如介质是忙的，继续监听，到介质空闲，立即发送；假如冲突发生，则等待一段随机时间，重复第一步。
第三种为P-坚持CSMA。假如介质是空闲的，则以P的概率发送，或以（I-P)的概率延迟一个时间单位后重复处理，该时间单位等于最大的传输延迟；假如介质是忙的，继续
监听，直到介质空闲，重复第一步。
由于传输线上不可避免地有传输延迟，有可能多个站同时监听到线上空闲并开始发送，从而导致冲突。故每个工作站发送信息之后，还要继续监听线路，判定是否有其他站正与本站同时向传输线发送。一旦发现，便中止当前发送，这就是“冲突检测”。CSMA/CD协议已广泛应用于局域网中。每个站在发送帧期间，同时有检测冲突的能力，即所谓边讲边听。一旦检测到冲突，就立即停止发送，并向总线上发一串阻塞信号，通知总线上各站冲突已发生，这样，通道的容量不致因白白传送已损坏的帧而浪费。

**2令牌标记访问控制方式（P71）**

#### 4,ISO的OSI参考模型为哪7层？各层的主要功能是什么？

![img](http://hi.csdn.net/attachment/201201/5/0_1325744597WM32.gif)

**物理层
** 在OSI参考模型中，物理层（Physical Layer）是参考模型的最低层，也是OSI模型的第一层。
 物理层的主要功能是：利用传输介质为数据链路层提供物理连接，实现比特流的透明传输。
 物理层的作用是实现相邻计算机节点之间比特流的透明传送，尽可能屏蔽掉具体传输介质和物理设备的差异。使其上面的数据链路层不必考虑网络的具体传输介质是什么。“透明传送比特流”表示经实际电路传送后的比特流没有发生变化，对传送的比特流来说，这个电路好像是看不见的。

**数据链路层
** 数据链路层（Data Link Layer）是OSI模型的第二层，负责建立和管理节点间的链路。该层的主要功能是：通过各种控制协议，将有差错的物理信道变为无差错的、能可靠传输数据帧的数据链路。
 在计算机网络中由于各种干扰的存在，物理链路是不可靠的。因此，这一层的主要功能是在物理层提供的比特流的基础上，通过差错控制、流量控制方法，使有差错的物理线路变为无差错的数据链路，即提供可靠的通过物理介质传输数据的方法。
 该层通常又被分为介质访问控制（MAC）和逻辑链路控制（LLC）两个子层。

MAC子层的主要任务是解决共享型网络中多用户对信道竞争的问题，完成网络介质的访问控制；

LLC子层的主要任务是建立和维护网络连接，执行差错校验、流量控制和链路控制。
 数据链路层的具体工作是接收来自物理层的位流形式的数据，并封装成帧，传送到上一层；同样，也将来自上层的数据帧，拆装为位流形式的数据转发到物理层；并且，还负责处理接收端发回的确认帧的信息，以便提供可靠的数据传输。

**网络层
** 网络层（Network Layer）是OSI模型的第三层，它是OSI参考模型中最复杂的一层，也是通信子网的最高一层。它在下两层的基础上向资源子网提供服务。其主要任务是：通过路由选择算法，为报文或分组通过通信子网选择最适当的路径。该层控制数据链路层与传输层之间的信息转发，建立、维持和终止网络的连接。具体地说，数据链路层的数据在这一层被转换为数据包，然后通过路径选择、分段组合、顺序、进/出路由等控制，将信息从一个网络设备传送到另一个网络设备。
 一般地，数据链路层是解决同一网络内节点之间的通信，而网络层主要解决不同子网间的通信。例如在广域网之间通信时，必然会遇到路由（即两节点间可能有多条路径）选择问题。 

在实现网络层功能时，需要解决的主要问题如下：
  寻址：数据链路层中使用的物理地址（如MAC地址）仅解决网络内部的寻址问题。在不同子网之间通信时，为了识别和找到网络中的设备，每一子网中的设备都会被分配一个唯一的地址。由于各子网使用的物理技术可能不同，因此这个地址应当是逻辑地址（如IP地址）。
  交换：规定不同的信息交换方式。常见的交换技术有：线路交换技术和存储转发技术，后者又包括报文交换技术和分组交换技术。
  路由算法：当源节点和目的节点之间存在多条路径时，本层可以根据路由算法，通过网络为数据分组选择最佳路径，并将信息从最合适的路径由发送端传送到接收端。
  连接服务：与数据链路层流量控制不同的是，前者控制的是网络相邻节点间的流量，后者控制的是从源节点到目的节点间的流量。其目的在于防止阻塞，并进行差错检测。

 **传输层
** OSI下3层的主要任务是数据通信，上3层的任务是数据处理。而传输层（Transport Layer）是OSI模型的第4层。因此该层是通信子网和资源子网的接口和桥梁，起到承上启下的作用。
  该层的主要任务是：向用户提供可靠的端到端的差错和流量控制，保证报文的正确传输。传输层的作用是向高层屏蔽下层数据通信的细节，即向用户透明地传送报文。该层常见的协议：TCP/IP中的TCP协议、Novell网络中的SPX协议和微软的NetBIOS/NetBEUI协议。
  传输层提供会话层和网络层之间的传输服务，这种服务从会话层获得数据，并在必要时，对数据进行分割。然后，传输层将数据传递到网络层，并确保数据能正确无误地传送到网络层。因此，传输层负责提供两节点之间数据的可靠传送，当两节点的联系确定之后，传输层则负责监督工作。综上，传输层的主要功能如下：
 传输连接管理：提供建立、维护和拆除传输连接的功能。传输层在网络层的基础上为高层提供“面向连接”和“面向无接连”的两种服务。
 处理传输差错：提供可靠的“面向连接”和不太可靠的“面向无连接”的数据传输服务、差错控制和流量控制。在提供“面向连接”服务时，通过这一层传输的数据将由目标设备确认，如果在指定的时间内未收到确认信息，数据将被重发。
 监控服务质量。
 **会话层
** 会话层（Session  Layer）是OSI模型的第5层，是用户应用程序和网络之间的接口，主要任务是：向两个实体的表示层提供建立和使用连接的方法。将不同实体之间的表示层的连接称为会话。因此会话层的任务就是组织和协调两个会话进程之间的通信，并对数据交换进行管理。
 用户可以按照半双工、单工和全双工的方式建立会话。当建立会话时，用户必须提供他们想要连接的远程地址。而这些地址与MAC（介质访问控制子层）地址或网络层的逻辑地址不同，它们是为用户专门设计的，更便于用户记忆。域名（DN）就是一种网络上使用的远程地址例如：[www.3721.com](http://student.csdn.net/link.php?url=http://www.3721.com%2F)就是一个域名。会话层的具体功能如下：
 会话管理：允许用户在两个实体设备之间建立、维持和终止会话，并支持它们之间的数据交换。例如提供单方向会话或双向同时会话，并管理会话中的发送顺序，以及会话所占用时间的长短。
  会话流量控制：提供会话流量控制和交叉会话功能。
 寻址：使用远程地址建立会话连接。l
 出错控制：从逻辑上讲会话层主要负责数据交换的建立、保持和终止，但实际的工作却是接收来自传输层的数据，并负责纠正错误。会话控制和远程过程调用均属于这一层的功能。但应注意，此层检查的错误不是通信介质的错误，而是磁盘空间、打印机缺纸等类型的高级错误。
 **表示层
** 表示层（Presentation Layer）是OSI模型的第六层，它对来自应用层的命令和数据进行解释，对各种语法赋予相应的含义，并按照一定的格式传送给会话层。其主要功能是“处理用户信息的表示问题，如编码、数据格式转换和加密解密”等。表示层的具体功能如下：
 数据格式处理：协商和建立数据交换的格式，解决各应用程序之间在数据格式表示上的差异。
 数据的编码：处理字符集和数字的转换。例如由于用户程序中的数据类型（整型或实型、有符号或无符号等）、用户标识等都可以有不同的表示方式，因此，在设备之间需要具有在不同字符集或格式之间转换的功能。
 压缩和解压缩：为了减少数据的传输量，这一层还负责数据的压缩与恢复。
 数据的加密和解密：可以提高网络的安全性。

**应用层
** 应用层（Application  Layer）是OSI参考模型的最高层，它是计算机用户，以及各种应用程序和网络之间的接口，其功能是直接向用户提供服务，完成用户希望在网络上完成的各种工作。它在其他6层工作的基础上，负责完成网络中应用程序与网络操作系统之间的联系，建立与结束使用者之间的联系，并完成网络用户提出的各种网络服务及应用所需的监督、管理和服务等各种协议。此外，该层还负责协调各个应用程序间的工作。
  应用层为用户提供的服务和协议有：文件服务、目录服务、文件传输服务（FTP）、远程登录服务（Telnet）、电子邮件服务（E-mail）、打印服务、安全服务、网络管理服务、数据库服务等。上述的各种网络服务由该层的不同应用协议和程序完成，不同的网络操作系统之间在功能、界面、实现技术、对硬件的支持、安全可靠性以及具有的各种应用程序接口等各个方面的差异是很大的。应用层的主要功能如下：
 用户接口：应用层是用户与网络，以及应用程序与网络间的直接接口，使得用户能够与网络进行交互式联系。
 实现各种服务：该层具有的各种应用程序可以完成和实现用户请求的各种服务。
 

 OSI7层模型的小结
 由于OSI是一个理想的模型，因此一般网络系统只涉及其中的几层，很少有系统能够具有所有的7层，并完全遵循它的规定。
  在7层模型中，每一层都提供一个特殊的网络功能。从网络功能的角度观察：下面4层（物理层、数据链路层、网络层和传输层）主要提供数据传输和交换功能，即以节点到节点之间的通信为主；第4层作为上下两部分的桥梁，是整个网络体系结构中最关键的部分；而上3层（会话层、表示层和应用层）则以提供用户与应用程序之间的信息和数据处理功能为主。简言之，下4层主要完成通信子网的功能，上3层主要完成资源子网的功能。

#### 5,常用的网络互联设备有哪些？各自对应OSI参考模型的哪一层？(48)

一个设备工作在哪一层，关键看它工作时利用哪一层的数据头部信息。网桥工作时，是以MAC头部来决定转发端口的，因此显然它是数据链路层的设备。
具体说:
物理层：网卡，网线，集线器，中继器，调制解调器

数据链路层：网桥，交换机

网络层：路由器

网关工作在第四层传输层及其以上

集线器是物理层设备,采用广播的形式来传输信息。

交换机就是用来进行报文交换的机器。多为链路层设备(二层交换机)，能够进行地址学习，采用存储转发的形式来交换报文.。

路由器的一个作用是连通不同的网络，另一个作用是选择信息传送的线路。选择通畅快捷的近路，能大大提高通信速度，减轻网络系统通信负荷，节约网络系统资源，提高网络系统畅通率。 

#### 6,通信的传输模式分为哪几种

1、并行传输

并行传输指的是数据以成组的方式，在多条并行信道上同时进行传输，是在传输中有多个数据位同时在设备之间进行的传输。常用的是将构成一个字符的几位二进制码同时分别在几个并行的信道上传输。

并行传输时，一次可以传一个字符，收发双方不存在同步的问题。而且速度快、控制方式简单。但是，并行传输需要多个物理通道。所以并行传输只适合于短距离、要求传输速度快的场合使用。

2、串行传输

串行通信作为计算机通信方式之一，主要起到主机与外设以及主机之间的数据传输作用，串行通信具有传输线少、成本低的特点，主要适用于近距离的人-机交换、实时监控等系统通信工作当中，借助于现有的电话网也能实现远距离传输，因此串行通信接口是计算机系统当中的常用接口。

3、异步传输

异步传输每次传送一个字符代码（5～8bit），在发送每一个字符代码的前面均加上一个“起”信号，其长度规定为1个码元，极性为“0”，后面均加一个止信号，在采用国际电报二号码时，止信号长度为1.5个码元，在采用国际五号码（见数据通信代码）或其它代码时，止信号长度为1或2个码元，极性为“1”。

4、同步传输

同步传输是以固定时钟节拍来发送数据信号的。在串行数据流中，各信号码元之间的相对位置都是固定的，接收端要从收到的数据流中正确区分发送的字符，必须建立位定时同步和帧同步。

5、单工数据传输

单工数据传输是两数据站之间只能沿一个指定的方向进行数据传输。即一端的DTE固定为数据源，另一端的DTE固定为数据宿。

6、半双工数据传输

半双工数据传输是两数据站之间可以在两个方向上进行数据传输，但不能同时进行。即每一端的DTE既可作数据源，也可作数据宿，但不能同时作为数据源与数据宿。

7、全双工数据传输

全双工数据传输是在两数据站之间，可以在两个方向上同时进行传输。即每一端的DTE均可同时作为数据源与数据宿。通常四线线路实现全双工数据传输。二线线路实现单工或半双工数据传输。

#### 7,PROFIBUS由哪三个兼容部分组成？各自应用的行业有哪些？

PROFIBUS中最早提出的是PROFIBUS  FMS（FMS代表Field bus Message  Specification），是一个复杂的通信协议，为要求严苛的通信任务所设计，适用在车间级通用性通信任务。后来在1993年提出了架构较简单，速度也提升许多的PROFIBUS DP（DP代表Decentralized Peripherals）。PROFIBUS  FMS是用在PROFIBUS主站之间的非确定性通信。PROFIBUS  DP主要是用在PROFIBUS主站和其远程从站之间的确定性通信，但仍允许主站及主站之间的通信。

PROFIBUS可分为二种，分别是大多数人使用的PROFIBUS DP和用在过程控制的PROFIBUS PA：

- **PROFIBUS DP**（分布式周边，Decentralized Peripherals）用在工厂自动化的应用中，可以由中央控制器控制许多的传感器及执行器，也可以利用标准或选用的诊断机能得知各模块的状态。
- **PROFIBUS PA**（过程自动化，Process Automation）应用在过程自动化系统中，由过程控制系统监控量测设备控制，是[本质安全](https://baike.baidu.com/item/本质安全)的通信协议，可适用于防爆区域（工业防爆危险区分类中的Ex-zone 0及Ex-zone 1）。其物理层（缆线）匹配IEC  61158-2，允许由通信缆线提供电源给现场设备，即使在有故障时也可限制电流量，避免制造可能导致爆炸的情形。因为使用网络供电，一个PROFIBUS PA网络所能连接的设备数量也就受到限制。PROFIBUS PA的通信速率为31.25 kbit/s。PROFIBUS  PA使用的通信协议和PROFIBUS DP相同，只要有转换设备就可以和PROFIBUS DP网络连接，由速率较快的PROFIBUS  DP作为网络主干，将信号传递给控制器。在一些需要同时处理自动化及过程控制的应用中就可以同时使用PROFIBUS DP及PROFIBUS PA。

#### 8,PROFIBUS-PA、DP、FMS通信模型包括哪几层？

**PROFIBUS通信协议（[OSI模型](https://baike.baidu.com/item/OSI模型)）**

| OSI模型 | PROFIBUS   |                                                 |      |      |          |
| ------- | ---------- | ----------------------------------------------- | ---- | ---- | -------- |
| 7       | 应用层     | DPV0                                            | DPV1 | DPV2 | 网络管理 |
| 6       | 表示层     | --                                              |      |      |          |
| 5       | 会话层     |                                                 |      |      |          |
| 4       | 传播层     |                                                 |      |      |          |
| 3       | 网络层     |                                                 |      |      |          |
| 2       | 数据链路层 | FDL                                             |      |      |          |
| 1       | 物理层     | [EIA-485](https://baike.baidu.com/item/EIA-485) | 光纤 | MBP* |          |

###### 应用层

为了有效利用PROFIBUS DP的机能，PROFIBUS DP定义了几种不同的服务档次：

- DP-V0：循环式的数据交换，诊断机能。
- DP-V1：循环式及非循环式的数据交换，警告处理。
- DP-V2：时钟同步数据模式，从机和从机之间的数据广播。



###### 数据链路层

数据链路层**FDL**（总线数据链路层）混合了一般主站（master）－从站（slave）之间的通信及[令牌传递](https://baike.baidu.com/item/令牌传递)的消息。在PROFIBUS网络中，控制器或控制系统为主站，感测器及致动器为从站。

#### 9.简述RS-485传输技术的基本特性。

网络拓扑：线性总线，两端有有源的总线终端电阻； 

传输速率： 9.6kbit/s—12Mbit/s； 

介质：屏蔽双绞电缆，也可取消屏蔽，取决于环境条件（EMC）； 

站点数：每段32站（无中继），127站（有中继）； 

插头连接：9针 D 型插头

#### 14.CAN总线报文传送的优先级是如何确定的

CAN总线以[报文](https://baike.baidu.com/item/报文)为单位进行[数据传送](https://baike.baidu.com/item/数据传送)，报文的优先级结合在11位[标识符](https://baike.baidu.com/item/标识符)中，具有最低二进制数的标识符有最高的优先级。这种优先级一旦在[系统设计](https://baike.baidu.com/item/系统设计)时被确立后就不能再被更改。总线读取中的冲突可通过位仲裁解决。例如标识符0111111、0100100、0100111发生位仲裁时，0100100报文将会被跟踪，而其余报文会被丢弃。具体过程为：当几个站同时发送报文时，站1的报文标识符为0111111，站2的报文标识符为0100100，站3的报文标识符为0100111，所有标识符都有相同的两位01，直到第3位进行比较时，站1的报文被丢弃，因为它的第3位为高，而其它两个站的报文第3位为低。站2和站3报文的3、4、5位相同，直到第7位时，站3的报文才被丢弃。注意，总线中的信号持续跟踪最后获得总线读取权的站的[报文](https://baike.baidu.com/item/报文)。在此例中，站2的报文被跟踪。这种非破坏性位仲裁方法的优点在于，在网络最终确定哪一个站的报文被传送以前，报文的起始部分已经在网络上传送了。所有未获得总线读取权的站都成为具有最高优先权报文的接收站，并且不会在总线再次空闲前发送报文。

#### 18，谈谈你对分布式控制及现场总线技术的认识。

现场总线是一种应用于生产现场，在现场设备之间、现场设备与控制设备之间实行双向、串行、多节点数字通信的技术。基于通信技术的发展、现场仪表与上级控制系统的通信量大增以及控制界在不断在控制精度、可操作性、可维护性、可移植性等方面提出新需求，产生了现场总线。现场总线具有系统开放性、互可操作性与互用性、现场设备的智能化与功能自治性、系统结构的高度分散性、对现场环境的适应性的技术特点，它可以节省硬件数量与投资、节省安装费用、节省维护开销、使用户具有高度的系统集成主动权、提高了系统的准确性与可靠性（优点）。在未来，现场总线技术的发展前景主要在于智能仪表与网络设备开发的软硬件技术、组态技术、网络管理技术、人机接口、软件技术、现场总线系统集成技术。

有理由认为，在从现在起的未来十年内，可能出现几大总线标准存在，甚至在一个现场总线系统内，几种总线标准的设备通过路由网关互连实现信息共享局面

#### 30什么是现场总线？目前流行的现场总线有哪些？

**现场总线（Field bus）是近年来迅速发展起来的一种工业数据总线，它主要解决工业现场的智能化[仪器仪表](https://baike.baidu.com/item/仪器仪表/1291650)、[控制器](https://baike.baidu.com/item/控制器/2206126)、执行机构等现场设备间的数字通信以及这些现场控制设备和高级控制系统之间的信息传递问题。由于现场总线简单、可靠、经济实用等一系列突出的优点，因而受到了许多标准团体和计算机厂商的高度重视。**

**它是一种工业数据总线，是自动化领域中底层数据[通信网络](https://baike.baidu.com/item/通信网络)。**

- FF现场总线
- LonWorks现场总线
- Profibu现场总线
- CAN现场总线
- Devicenet现场总线
- HART现场总线
- CC-Link现场总线
- WorldFIP现场总线
- INTERBUS现场总线 
- EtherCAT   
- Lightbus   
- Interbus
- USB  
- Modbus 
- RS232/RS485  

